<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mountains Hotel</title>
    <link rel="stylesheet" href="../css/nav.css">
    <link rel="stylesheet" href="../css/expenses.css">
</head>
<body>
<!--navigate start-->
<nav class="header not-logged-in">
    <div class="headerLeft">
        <a class="logo" href="index.html">
            <img src="../image/logo.jpg" alt="Mountains Hotel">
        </a>
        <a class="logo" href="index.html">Mountains Hotel</a>
    </div>
    <div class="menu">
        <div><a href="index.html">Home</a></div>
        <div><a href="reservation.html">Reservation</a></div>
        <div><a href="service.html">Service</a></div>
        <div><a href="expenses.html">Expenses</a></div>
        <div><a href="customers.html">Member Center</a></div>
    </div>
    <div class="headerRight">
        <a href="logIn.html" class="logIn">Login</a>
        <a href="signIn.html" class="signIn">Register</a>
        <div class="user-info">
            <span class="username"></span>
            <button class="logout-btn" onclick="auth.logout()">Logout</button>
        </div>
    </div>
</nav>
<!--navigate end-->

<main class="expenses-container">
    <div class="expenses-header">
        <h1>Expense Management</h1>
        <p>View and manage all your expense details</p>
    </div>

    <div class="expenses-content">
        <!-- Expense details table -->
        <div class="expenses-table">
            <h2>Expense Details</h2>
            <div class="table-controls">
                <div class="filter-controls">
                    <select id="typeFilter">
                        <option value="all">All Types</option>
                        <option value="房费">Room Fee</option>
                        <option value="餐饮">Dining</option>
                        <option value="服务">Service</option>
                    </select>
                    <select id="statusFilter">
                        <option value="all">All Statuses</option>
                        <option value="待支付">Pending Payment</option>
                        <option value="已支付">Paid</option>
                    </select>
                </div>
                <div class="date-range">
                    <input type="date" id="startDate">
                    <span>to</span>
                    <input type="date" id="endDate">
                </div>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Item</th>
                        <th>Type</th>
                        <th>Total Price</th>
                        <th>Amount Due</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody id="expensesTableBody">
                    <!-- Expense details will be dynamically added via JavaScript -->
                </tbody>
            </table>
        </div>

        <!-- Expense summary and payment section -->
        <div class="expenses-summary">
            <h2>Expense Summary</h2>
            <div class="summary-item">
                <span>Total Room Fee</span>
                <span id="roomTotal">¥0.00</span>
            </div>
            <div class="summary-item">
                <span>Dining Expenses</span>
                <span id="diningTotal">¥0.00</span>
            </div>
            <div class="summary-item">
                <span>Additional Services</span>
                <span id="serviceTotal">¥0.00</span>
            </div>
            <div class="summary-item discount">
                <span>Member Discount</span>
                <span id="discountAmount">-¥0.00</span>
            </div>
            <div class="summary-item summary-total">
                <span>Total</span>
                <span id="grandTotal">¥0.00</span>
            </div>

            <!-- Payment section -->
            <div class="payment-section">
                <h3>Select Payment Method</h3>
                <div class="payment-methods" id="paymentMethods">
                    <div class="payment-option" data-key="cash" onclick="selectPayment('cash')">
                        <img src="../image/cash.png" alt="Cash Payment">
                        <span>Cash Payment</span>
                    </div>
                    <div class="payment-option" data-key="card" onclick="selectPayment('card')">
                        <img src="../image/card.png" alt="Card Payment">
                        <span>Card Payment</span>
                    </div>
                    <div class="payment-option" data-key="wechat" onclick="selectPayment('wechat')">
                        <img src="../image/wechat.png" alt="WeChat Payment">
                        <span>WeChat Payment</span>
                    </div>
                    <div class="payment-option" data-key="alipay" onclick="selectPayment('alipay')">
                        <img src="../image/alipay.png" alt="Alipay Payment">
                        <span>Alipay Payment</span>
                    </div>
                </div>
                <button class="pay-btn" onclick="handlePayment()" disabled>Pay Now</button>
            </div>
        </div>
    </div>
</main>

<script src="../js/auth.js"></script>
<script src="../js/expenses.js"></script>
</body>
</html>