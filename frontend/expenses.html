<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>三山酒店 - 费用管理</title>
    <link rel="stylesheet" href="../css/nav.css">
    <link rel="stylesheet" href="../css/expenses.css">
</head>
<body>
<!--navigate start-->
<nav class="header">
    <div class="headerLeft">
        <a class="logo" href="index.html">
            <img src="../image/logo.jpg" alt="三山酒店">
        </a>
        <a class="logo" href="index.html">三山酒店</a>
    </div>
    <div class="menu">
        <div><a href="index.html">首页</a></div>
        <div><a href="reservation.html">客房预定</a></div>
        <div><a href="service.html">客房服务</a></div>
        <div><a href="expenses.html">客房费用</a></div>
        <div><a href="customers.html">会员中心</a></div>
    </div>
    <div class="headerRight">
        <a href="logIn.html" class="logIn">登录</a>
        <a href="signIn.html" class="signIn">注册</a>
        <div class="user-info">
            <span class="username"></span>
            <button class="logout-btn" onclick="auth.logout()">退出登录</button>
        </div>
    </div>
</nav>
<!--navigate end-->

<main class="expenses-container">
    <div class="expenses-header">
        <h1>费用管理</h1>
        <p>查看和管理您的所有消费明细</p>
    </div>

    <div class="expenses-content">
        <!-- 费用明细表格 -->
        <div class="expenses-table">
            <h2>消费明细</h2>
            <div class="table-controls">
                <div class="filter-controls">
                    <select id="typeFilter">
                        <option value="all">所有类型</option>
                        <option value="房费">房费</option>
                        <option value="餐饮">餐饮</option>
                        <option value="服务">服务</option>
                    </select>
                    <select id="statusFilter">
                        <option value="all">所有状态</option>
                        <option value="待支付">待支付</option>
                        <option value="已支付">已支付</option>
                    </select>
                </div>
                <div class="date-range">
                    <input type="date" id="startDate">
                    <span>至</span>
                    <input type="date" id="endDate">
                </div>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>日期</th>
                        <th>项目</th>
                        <th>类型</th>
                        <th>数量</th>
                        <th>单价</th>
                        <th>金额</th>
                        <th>状态</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody id="expensesTableBody">
                    <!-- 费用明细将通过JavaScript动态添加 -->
                </tbody>
            </table>
        </div>

        <!-- 费用汇总和支付部分 -->
        <div class="expenses-summary">
            <h2>费用汇总</h2>
            <div class="summary-item">
                <span>房费总计</span>
                <span id="roomTotal">¥0.00</span>
            </div>
            <div class="summary-item">
                <span>餐饮费用</span>
                <span id="diningTotal">¥0.00</span>
            </div>
            <div class="summary-item">
                <span>额外服务</span>
                <span id="serviceTotal">¥0.00</span>
            </div>
            <div class="summary-item discount">
                <span>会员折扣</span>
                <span id="discountAmount">-¥0.00</span>
            </div>
            <div class="summary-item summary-total">
                <span>总计</span>
                <span id="grandTotal">¥0.00</span>
            </div>

            <!-- 支付部分 -->
            <div class="payment-section">
                <h3>选择支付方式</h3>
                <div class="payment-methods" id="paymentMethods">
                    <div class="payment-option" data-key="cash" onclick="selectPayment('cash')">
                        <img src="../image/cash.png" alt="现金支付">
                        <span>现金支付</span>
                    </div>
                    <div class="payment-option" data-key="card" onclick="selectPayment('card')">
                        <img src="../image/card.png" alt="银行卡支付">
                        <span>银行卡支付</span>
                    </div>
                    <div class="payment-option" data-key="wechat" onclick="selectPayment('wechat')">
                        <img src="../image/wechat.png" alt="微信支付">
                        <span>微信支付</span>
                    </div>
                    <div class="payment-option" data-key="alipay" onclick="selectPayment('alipay')">
                        <img src="../image/alipay.png" alt="支付宝支付">
                        <span>支付宝支付</span>
                    </div>
                </div>
                <button class="pay-btn" onclick="handlePayment()" disabled>立即支付</button>
            </div>
        </div>
    </div>
</main>

<script src="../js/auth.js"></script>
<script src="../js/expenses.js"></script>
</body>
</html>